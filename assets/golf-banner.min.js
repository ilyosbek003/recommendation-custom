!function(){"use strict";function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var n,r={root:null,rootMargin:"0px",threshold:.01},o={components:[]};function a(){var e=Array.from(document.querySelectorAll(".Golf-banner"));o.components=function(e){return Array.isArray(e)?e.reduce((function(e,n){var r=n.querySelector("video.Golf-banner__media");return r?[{videoEl:r,btns:Array.from(n.querySelectorAll(".Golf-banner__media-control [data-state]")),wasAudioMuted:!0,wasPlaying:!0}].concat(t(e)):e}),[]):[]}(e)}function i(){window.addEventListener("resize",u),o.components.forEach((function(t){t.btns.forEach((function(e){e.addEventListener("click",d.bind(t))}))}))}function u(){var t=window.matchMedia("(max-width: 600px)").matches;o.components.forEach((function(e){var n=e.videoEl;if(n){var r=n.src,o=t?n.dataset.srcMobile:n.dataset.srcDesktop;r!==o&&(n.src=o)}}))}function c(t){var e,n=t.dataset,r=n.type,o=n.state,a={video:{playing:{type:r,state:"paused",action:"pause"},paused:{type:r,state:"playing",action:"play"}},audio:{muted:{type:r,state:"unmuted",action:!1},unmuted:{type:r,state:"muted",action:!0}}};return null==a||null===(e=a[r])||void 0===e?void 0:e[o]}function d(t){var e,n,r=t.currentTarget,o=c(r);(r.dataset.state=o.state,"audio"===o.type)?this.videoEl.muted=o.action:null===(e=this.videoEl)||void 0===e||null===(n=e[o.action])||void 0===n||n.call(e)}n=function(){var t,e;t="golf-banner",(null===(e=window.scriptLoadMap)||void 0===e?void 0:e.hasOwnProperty(t))&&window.scriptLoadMap[t]||(function(t){window.scriptLoadMap[t]=!0}("golf-banner"),a(),i(),u(),o.components.forEach((function(t){var e=t.videoEl,n=t.btns;e&&new IntersectionObserver((function(r){if(!r[0].isIntersecting)return t.wasPlaying=!e.paused,t.wasAudioMuted=e.muted,e.pause(),void n.forEach((function(t){"audio"!==c(t).type&&(t.dataset.state="paused")}));e.muted=t.wasAudioMuted,t.wasPlaying&&(e.play(),n.forEach((function(t){"audio"!==c(t).type&&(t.dataset.state="playing")})))}),r).observe(e)})))},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(n,1):document.addEventListener("DOMContentLoaded",n)}();
//# sourceMappingURL=golf-banner.min.js.map